"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7311],{47782:function(e,t,n){n.d(t,{Z:function(){return g}});var s=n(57437),i=n(33071),a=n(45623),r=n(67848),o=n(2265),l=function(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",children:(0,s.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,s.jsx)("path",{strokeLinejoin:"miter",d:"M22.5 11.63V6"}),(0,s.jsx)("path",{fill:"#000",strokeLinecap:"butt",strokeLinejoin:"miter",d:"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5"}),(0,s.jsx)("path",{fill:"#000",d:"M11.5 37c5.5 3.5 15.5 3.5 21 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-3.5-7.5-13-10.5-16-4-3 6 5 10 5 10V37z"}),(0,s.jsx)("path",{strokeLinejoin:"miter",d:"M20 8h5"}),(0,s.jsx)("path",{stroke:"#ececec",d:"M32 29.5s8.5-4 6.03-9.65C34.15 14 25 18 22.5 24.5l.01 2.1-.01-2.1C20 18 9.906 14 6.997 19.85c-2.497 5.65 4.853 9 4.853 9"}),(0,s.jsx)("path",{stroke:"#ececec",d:"M11.5 30c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0"})]})})},c=n(85216),d=function(e){let{className:t}=e;return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",className:t,children:[(0,s.jsxs)("defs",{children:[(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("rect",{width:"19.358",height:"38.632",x:"3.05",y:"2.617",opacity:"0.1",ry:"0"})}),(0,s.jsx)("clipPath",{id:"b",children:(0,s.jsx)("path",{d:"M22.492 3.814h18.647v37.85H22.492z",opacity:"0.1"})})]}),(0,s.jsx)("g",{clipPath:"url(#a)",transform:"translate(-5.082 -5.234)",children:(0,s.jsxs)("g",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,s.jsx)("path",{strokeLinejoin:"miter",d:"M22.5 11.63V6M20 8h5"}),(0,s.jsx)("path",{fill:"#fff",strokeLinecap:"butt",strokeLinejoin:"miter",d:"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5"}),(0,s.jsx)("path",{fill:"#fff",d:"M11.5 37c5.5 3.5 15.5 3.5 21 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-3.5-7.5-13-10.5-16-4-3 6 5 10 5 10V37z"}),(0,s.jsx)("path",{d:"M11.5 30c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0"})]})}),(0,s.jsx)("g",{clipPath:"url(#b)",transform:"translate(-5.166 -5.234)",children:(0,s.jsxs)("g",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,s.jsx)("path",{strokeLinejoin:"miter",d:"M22.5 11.63V6"}),(0,s.jsx)("path",{fill:"#000",strokeLinecap:"butt",strokeLinejoin:"miter",d:"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5"}),(0,s.jsx)("path",{fill:"#000",d:"M11.5 37c5.5 3.5 15.5 3.5 21 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-3.5-7.5-13-10.5-16-4-3 6 5 10 5 10V37z"}),(0,s.jsx)("path",{strokeLinejoin:"miter",d:"M20 8h5"}),(0,s.jsx)("path",{stroke:"#fff",d:"M32 29.5s8.5-4 6.03-9.65C34.15 14 25 18 22.5 24.5l.01 2.1-.01-2.1C20 18 9.906 14 6.997 19.85c-2.497 5.65 4.853 9 4.853 9"}),(0,s.jsx)("path",{stroke:"#fff",d:"M11.5 30c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0"})]})})]})},u=n(52623),h=n(24033);async function f(e){let{strength:t,variant:n,timeMode:s}=e,i=Date.now()/1e3,a=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org")+"/api/create-bot-game",{method:"POST",headers:{Accept:"application/json"},body:JSON.stringify({strength:t,variant:n,time_mode:s,created_at:i})});if(a.ok){let e=await a.text(),t=JSON.parse(e);return t.data}throw Error("Create bot game not ok")}var p=n(90270),m=n(89913);let j=[{value:1,label:u.D5.STANDARD},{value:2,label:u.D5.CHESS960}],x=[{value:0,label:u.$i.UNLIMITED},{value:3,label:u.$i.ThreeMins},{value:5,label:u.$i.FiveMins},{value:7,label:u.$i.SevenMins}];function g(e){let{isOpen:t,setOpen:n}=e,[g,v]=o.useState(!1),[k,w]=o.useState(3),[L,M]=o.useState(1),[S,N]=o.useState(0),b=(0,h.useRouter)(),y=Array.from({length:8},(e,t)=>t+1),C=async e=>{await (0,p.Hc)({run:()=>(0,m.A)(),until:t=>t.includes(e)})},T=async()=>{v(!0);let e=await f({strength:k,variant:L,timeMode:S}),t=e.slug;console.log("HELO: ",e.slug),await C(t).then(e=>{console.error("Can't index game slug: ",e)}),localStorage.setItem("config-".concat(t),JSON.stringify({strength:k,variant:L,timeMode:S})),n(!1),v(!1),b.push("/computer/".concat(t))};return(0,s.jsx)(i.Z,{title:"Play vs Stockfish",open:t,onCancel:()=>{n(!1)},onOk:T,okButtonProps:{className:"!bg-blue-500"},okText:"Start Game",confirmLoading:g,children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center center",children:[(0,s.jsxs)("div",{className:"flex justify-center center gap-4 items-center",children:[(0,s.jsx)("span",{className:"font-bold",children:"Variant"}),(0,s.jsx)(a.default,{defaultValue:1,options:j,style:{width:120},onChange:e=>{M(e)}})]}),(0,s.jsxs)("div",{className:"flex justify-center center gap-4 items-center",children:[(0,s.jsx)("span",{className:"font-bold",children:"Time Control"}),(0,s.jsx)(a.default,{defaultValue:u.$i.UNLIMITED,options:x,style:{width:120,marginRight:"37px"},onChange:e=>{e===u.$i.UNLIMITED?N(0):N(Number(e))}})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center center items-center gap-4",children:[(0,s.jsx)("span",{className:"font-bold",children:" Strength "}),(0,s.jsx)(r.ZP.Group,{options:y,value:k,optionType:"button",onChange:e=>{let{target:{value:t}}=e;w(t)}})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center center items-center gap-4",children:[(0,s.jsx)("span",{className:"font-bold",children:" Start with "}),(0,s.jsxs)(r.ZP.Group,{className:"flex flex-row gap-4",children:[(0,s.jsx)(r.ZP.Button,{value:"a",className:"w-fit h-fit py-2",children:(0,s.jsx)(l,{})}),(0,s.jsx)(r.ZP.Button,{value:"b",className:"w-fit h-fit py-2",children:(0,s.jsx)(d,{className:"ml-3"})}),(0,s.jsx)(r.ZP.Button,{value:"c",className:"w-fit h-fit py-2",children:(0,s.jsx)(c.Z,{})})]})]})]})})}},85216:function(e,t,n){var s=n(57437);n(2265),t.Z=function(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",children:(0,s.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,s.jsx)("path",{strokeLinejoin:"miter",d:"M22.5 11.63V6M20 8h5"}),(0,s.jsx)("path",{fill:"#fff",strokeLinecap:"butt",strokeLinejoin:"miter",d:"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5"}),(0,s.jsx)("path",{fill:"#fff",d:"M11.5 37c5.5 3.5 15.5 3.5 21 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-3.5-7.5-13-10.5-16-4-3 6 5 10 5 10V37z"}),(0,s.jsx)("path",{d:"M11.5 30c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0"})]})})}},91658:function(e,t,n){n.r(t),n.d(t,{UserContext:function(){return r},UserProvider:function(){return o}});var s=n(57437),i=n(2265);let a={userId:0,dateOfBirth:"",email:"",gender:"",name:"",rate:"",rating:[],accessToken:"",isLoading:!1},r=i.createContext({...a,checkLogin:()=>{}}),o=e=>{let[t,n]=(0,i.useState)(""),[o,l]=(0,i.useState)({...a,checkLogin:()=>{}}),[c,d]=(0,i.useState)(!1),u=async()=>{d(!0);let e=localStorage.getItem("accessToken");if(e){n(e);let t=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org")+"/api/profile",{method:"GET",headers:{"Content-Type":"application/json",accessToken:e}}),s=await t.json();(null==s?void 0:s.code)===200&&l(s.data)}else l({...a,checkLogin:()=>{}});d(!1)};return(0,i.useEffect)(()=>{u().then()},[]),(0,s.jsx)(r.Provider,{value:{userId:null==o?void 0:o.userId,dateOfBirth:null==o?void 0:o.dateOfBirth,email:null==o?void 0:o.email,gender:null==o?void 0:o.gender,name:null==o?void 0:o.name,rate:null==o?void 0:o.rate,rating:null==o?void 0:o.rating,accessToken:t,isLoading:c,checkLogin:u},children:e.children})}},52623:function(e,t,n){var s,i,a,r,o,l,c;n.d(t,{$i:function(){return r},D$:function(){return i},D5:function(){return a},x6:function(){return s}}),n(2265),(s||(s={})).FACEBOOK="FACEBOOK",(o=i||(i={})).FAST="Fast Chess",o.SLOW="Slow",o.PUZZLE="Puzzle",o.STARS="Stars",(l=a||(a={})).STANDARD="Standard",l.CHESS960="Chess960",(c=r||(r={})).UNLIMITED="Unlimited",c.ThreeMins="3 minutues",c.FiveMins="5 minutes",c.SevenMins="7 minutes"},90270:function(e,t,n){n.d(t,{Hc:function(){return s}});async function s(e){let t,{run:n,until:s,maxIterations:i=Number.MAX_SAFE_INTEGER,delayBetween:a=1e3}=e;for(let e=0;e<i;e++){0!==e&&await function(e){return new Promise(t=>{setTimeout(t,e)})}(a);try{let t=await n(e),i=await s(t);if(i)return t}catch(e){t=e}}throw Error("max iterations reached without success",{cause:t})}},89913:function(e,t,n){n.d(t,{A:function(){return s}});async function s(){var e;let t=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org")+"/api/all-game-slugs",{cache:"no-store"}).then(e=>e.json());if("Success"===t.message)return t.data;throw Error(null!==(e=t.message)&&void 0!==e?e:"Get game slugs error")}}}]);