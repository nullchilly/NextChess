(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6828:function(e,l,t){Promise.resolve().then(t.bind(t,26173))},26173:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return f}});var n=t(57437),s=t(2265),a=t(91658),d=t(88110),i=t.n(d),r=t(18142),o=t(13479),c=t(33071),u=t(20020),m=t(80338),x=t(68939),h=t(88500);let g=()=>(0,n.jsx)(h.Z,{color:"gray",className:"ml-1",children:"NULL"}),v={current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["5","10","20","50"],total:0};var j=()=>{var e;let{isAdmin:l,accessToken:t}=(0,s.useContext)(a.UserContext),[d,j]=(0,s.useState)(!1),[f,p]=(0,s.useState)([]),[y,k]=(0,s.useState)([]),[I,N]=(0,s.useState)(!1),[S,T]=(0,s.useState)(),[b,C]=(0,s.useState)(!1),[w,Z]=(0,s.useState)(),[A,E]=(0,s.useState)(!1),[L,O]=(0,s.useState)(!1),[U,D]=(0,s.useState)(!1),[P,B]=(0,s.useState)(v),z=e=>{E(!0),T(e)},G=e=>{O(!0),Z(e)},M=async()=>{j(!0),E(!1);try{let e=localStorage.getItem("accessToken"),l=JSON.stringify({userId:null==S?void 0:S.userId}),n=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org","/api/admin/profile"),{method:"DELETE",headers:{"Content-Type":"application/json",accessToken:null!=e?e:t},body:l});n.ok&&(D(!0),J())}catch(e){console.log(e)}finally{j(!1)}},W=async()=>{j(!0),O(!1);try{let e=localStorage.getItem("accessToken"),l=JSON.stringify({gameId:null==w?void 0:w.gameId});console.log(l);let n=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org","/api/admin/game"),{method:"DELETE",headers:{"Content-Type":"application/json",accessToken:null!=e?e:t},body:l});n.ok&&(D(!0),K())}catch(e){console.log(e)}finally{j(!1)}},_=e=>{T(e),N(!0)},F=e=>{Z(e),C(!0)},R=()=>{C(!1),N(!1)},J=async()=>{j(!0);try{let e=localStorage.getItem("accessToken"),l=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org","/api/admin/users"),{method:"GET",headers:{"Content-Type":"application/json",accessToken:null!=e?e:t}}),n=await l.json();p(n.data.users)}catch(e){console.log(e)}finally{j(!1)}},K=async()=>{j(!0);try{let e=localStorage.getItem("accessToken"),l=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org","/api/admin/game"),{method:"GET",headers:{"Content-Type":"application/json",accessToken:null!=e?e:t}}),n=await l.json();k(n.data.games)}catch(e){console.log(e)}finally{j(!1)}};return(0,s.useEffect)(()=>{C(!1),O(!1),N(!1),E(!1),D(!1),J(),K()},[]),(0,n.jsxs)("div",{children:[l&&(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{className:"justify-center flex p-4 mt-8",children:(0,n.jsxs)(r.Z,{children:[(0,n.jsx)("div",{className:"col-start-2 col-end-4 text-3xl text-slate-100 font-mono font-bold flex items-center pl-7",children:"List User"}),(0,n.jsx)(x.Z,{bordered:!0,loading:d,rowKey:e=>e.userId,dataSource:f,pagination:P,onChange:e=>{B({...P,current:e.current,pageSize:e.pageSize})},columns:[{title:"UserId",dataIndex:"userId",key:"userId"},{title:"UserName",dataIndex:"userName",key:"userName"},{title:"Name",dataIndex:"name",key:"name"},{title:"Rolse",key:"isAdmin",dataIndex:"isAdmin",render:(e,l)=>{let{isAdmin:t}=l;return(0,n.jsx)(h.Z,{color:t?"geekblue":"green",children:t?"Admin":"User"},"isAdmin")}},{title:"Date Of Birth",dataIndex:"dateOfBirth",key:"dateOfBirth"},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Email",dataIndex:"email",key:"email"},{title:"Action",key:"action",render:(e,l)=>(0,n.jsxs)(m.default,{size:"middle",children:[(0,n.jsx)("p",{onClick:()=>{_(l)},children:"Info"}),(0,n.jsx)("p",{onClick:()=>{z(l)},children:"Delete"})]})}],locale:{emptyText:(0,n.jsx)(o.default,{description:"Not found Data"})},scroll:{x:1e3},className:"self-center mt-4"}),(0,n.jsx)("div",{className:"col-start-2 col-end-4 text-3xl text-slate-100 font-mono font-bold flex items-center pl-7",children:"List Game"}),(0,n.jsx)(x.Z,{bordered:!0,loading:d,rowKey:e=>e.gameId,dataSource:y,pagination:P,onChange:e=>{B({...P,current:e.current,pageSize:e.pageSize})},columns:[{title:"GameId",dataIndex:"gameId",key:"gameId"},{title:"VariantId",dataIndex:"variantId",key:"variantId"},{title:"User Ids",dataIndex:"usersId",key:"usersId",render:(e,l)=>{let{usersId:t}=l;return(0,n.jsx)(n.Fragment,{children:null==t?void 0:t.map((e,l)=>(0,n.jsxs)(h.Z,{bordered:!1,color:l%2?"red":"blue",children:[" ",e," "]},l))})}},{title:"Create At",dataIndex:"createdAt",key:"createdAt"},{title:"Time Mode",key:"timeMode",dataIndex:"timeMode",render:(e,l)=>{let{timeMode:t}=l;return(0,n.jsx)(h.Z,{color:t?"geekblue":"gray",children:t||"NULL"},"isAdmin")}},{title:"Moves",dataIndex:"moves",key:"moves",render:(e,l)=>{let{moves:t}=l;return(0,n.jsxs)(n.Fragment,{children:[null==t?void 0:t.map((e,l)=>l<3&&(0,n.jsxs)(h.Z,{bordered:!1,children:[" ",e," "]},l)),t.length>3&&"..."]})}},{title:"Slug",dataIndex:"slug",key:"slug"},{title:"Result",dataIndex:"result",key:"result",render:(e,l)=>(0,n.jsx)(n.Fragment,{children:3===l.variantId?(0,n.jsxs)(h.Z,{color:"geekblue",children:[" ",1===l.result?"Player 2 Win":"Player 1 Win"," "]}):(0,n.jsxs)(h.Z,{color:"geekblue",children:[" ",1===l.result?"Player 1 Win":2===l.result?"Player 2 Win":"Draw"," "]})})},{title:"Action",key:"action",render:(e,l)=>(0,n.jsxs)(m.default,{size:"middle",children:[(0,n.jsx)("p",{onClick:()=>{F(l)},children:"Info"}),(0,n.jsx)("p",{onClick:()=>{G(l)},children:"Delete"})]})}],locale:{emptyText:(0,n.jsx)(o.default,{description:"Not found Data"})},scroll:{x:1e3},className:"self-center mt-4"})]})})}),(0,n.jsxs)(c.Z,{open:I,title:(0,n.jsx)("div",{className:"text-2xl pl-7",children:"User Info"}),closable:!1,footer:null,children:[(0,n.jsxs)("div",{className:"text-l pl-7",children:[(0,n.jsxs)("div",{className:"m-2",children:["UserId: ",(null==S?void 0:S.userId)?null==S?void 0:S.userId:(0,n.jsx)(g,{})]}),(0,n.jsxs)("div",{className:"m-2",children:["Name: ",(null==S?void 0:S.name)?null==S?void 0:S.name:(0,n.jsx)(g,{})]}),(0,n.jsxs)("div",{className:"m-2",children:["Gender: ",(null==S?void 0:S.gender)?null==S?void 0:S.gender:(0,n.jsx)(g,{})]}),(0,n.jsxs)("div",{className:"m-2",children:["Email: ",(null==S?void 0:S.email)?null==S?void 0:S.email:(0,n.jsx)(g,{})]}),(0,n.jsxs)("div",{className:"m-2",children:["Date Of Birth: ",(null==S?void 0:S.dateOfBirth)?null==S?void 0:S.dateOfBirth:(0,n.jsx)(g,{})]})]}),(0,n.jsx)("div",{className:"text-end",children:(0,n.jsx)(i(),{style:{background:"white"},type:"default",onClick:R,children:"Close"})})]}),(0,n.jsxs)(c.Z,{open:A,title:"Are you sure delete this user?",okText:"Yes",okType:"danger",cancelText:"No",onOk:M,okButtonProps:{disabled:null==S?void 0:S.isAdmin},onCancel:()=>{E(!1)},children:["Do you want delete user ",null==S?void 0:S.userId]}),(0,n.jsxs)(c.Z,{open:b,title:(0,n.jsx)("div",{className:"text-2xl pl-7",children:"Game Info"}),closable:!1,footer:null,children:[(0,n.jsxs)("div",{className:"text-l pl-7",children:[(0,n.jsxs)("div",{className:"m-2",children:["Game Id: ",null==w?void 0:w.gameId]}),(0,n.jsxs)("div",{className:"m-2",children:["Variant Id: ",null==w?void 0:w.variantId]}),(0,n.jsxs)("div",{className:"m-2",children:["Time Mode:",(0,n.jsx)(h.Z,{color:(null==w?void 0:w.timeMode)?"geekblue":"gray",className:"ml-1",children:(null==w?void 0:w.timeMode)?null==w?void 0:w.timeMode:"NULL"})]}),(0,n.jsxs)("div",{className:"m-2",children:["Users Id:",(0,n.jsxs)(h.Z,{bordered:!1,color:"red",className:"ml-1",children:[" ",null==w?void 0:w.usersId[0]," "]}),"vs",(0,n.jsxs)(h.Z,{bordered:!1,color:"blue",className:"ml-1",children:[" ",null==w?void 0:w.usersId[1]," "]})]}),(0,n.jsxs)("div",{className:"m-2",children:["Created At: ",null==w?void 0:w.createdAt]}),(0,n.jsxs)("div",{className:"m-2",children:["Moves:",(null==w?void 0:w.moves.length)?null==w?void 0:null===(e=w.moves)||void 0===e?void 0:e.map((e,l)=>(0,n.jsxs)(h.Z,{bordered:!1,children:[" ",e," "]},l)):(0,n.jsx)(g,{})]}),(0,n.jsxs)("div",{className:"m-2",children:["Slug: ",null==w?void 0:w.slug]}),(0,n.jsxs)("div",{className:"m-2",children:["Result: ",(null==w?void 0:w.variantId)===3?(0,n.jsxs)(h.Z,{color:"geekblue",children:[" ",(null==w?void 0:w.result)===1?"Player 2 Win":"Player 1 Win"," "]}):(0,n.jsxs)(h.Z,{color:"geekblue",children:[" ",(null==w?void 0:w.result)===1?"Player 1 Win":(null==w?void 0:w.result)===2?"Player 2 Win":"Draw"," "]})]})]}),(0,n.jsx)("div",{className:"text-end",children:(0,n.jsx)(i(),{style:{background:"white"},type:"default",onClick:R,children:"Close"})})]}),(0,n.jsxs)(c.Z,{open:L,title:"Are you sure delete this game?",okText:"Yes",okType:"danger",cancelText:"No",onOk:W,onCancel:()=>{E(!1)},children:["Do you want delete game ",null==w?void 0:w.gameId]}),(0,n.jsx)(c.Z,{open:U,title:(0,n.jsx)("div",{className:"text-2xl pl-7",children:"Delete Success"}),closable:!1,footer:null,children:(0,n.jsx)("div",{className:"text-end",children:(0,n.jsx)(i(),{style:{background:"white"},type:"default",onClick:()=>{D(!1)},children:"Close"})})})]})},f=()=>(0,n.jsx)(j,{})},91658:function(e,l,t){"use strict";t.r(l),t.d(l,{UserContext:function(){return d},UserProvider:function(){return i}});var n=t(57437),s=t(2265);let a={userId:0,dateOfBirth:"",email:"",gender:"",name:"",rate:"",rating:[],accessToken:"",isLoading:!1,isAdmin:!1},d=s.createContext({...a,checkLogin:()=>{}}),i=e=>{let[l,t]=(0,s.useState)(""),[i,r]=(0,s.useState)({...a,checkLogin:()=>{}}),[o,c]=(0,s.useState)(!1),u=async()=>{c(!0);let e=localStorage.getItem("accessToken");if(console.log("token",e),e){t(e);let l=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org")+"/api/profile",{method:"GET",headers:{"Content-Type":"application/json",accessToken:e}}),n=await l.json();(null==n?void 0:n.code)===200&&r(n.data)}else r({...a,checkLogin:()=>{}});c(!1)};return(0,s.useEffect)(()=>{u().then()},[]),(0,n.jsx)(d.Provider,{value:{userId:i.userId,dateOfBirth:null==i?void 0:i.dateOfBirth,email:null==i?void 0:i.email,gender:null==i?void 0:i.gender,name:null==i?void 0:i.name,rate:null==i?void 0:i.rate,rating:null==i?void 0:i.rating,accessToken:l,isLoading:o,isAdmin:null==i?void 0:i.isAdmin,checkLogin:u},children:e.children})}}},function(e){e.O(0,[6227,1094,5279,7197,8110,8623,4195,8813,3071,2480,8002,9431,7896,5623,3574,9385,7848,4193,4981,2971,2472,1744],function(){return e(e.s=6828)}),_N_E=e.O()}]);