(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{7915:function(e,t,r){Promise.resolve().then(r.bind(r,87355))},87355:function(e,t,r){"use strict";r.r(t);var s=r(57437),n=r(61396),a=r.n(n),l=r(2265),o=r(99654),c=r(24033),i=r(91658);t.default=function(){let[e,t]=(0,l.useState)({user_name:"",password:""}),[r,n]=(0,l.useState)(!0),[d,u]=(0,l.useState)(!0),[x,h]=(0,l.useState)(!0),f=(0,c.useRouter)(),{checkLogin:m}=(0,l.useContext)(i.UserContext);(0,l.useEffect)(()=>{localStorage.getItem("accessToken")&&f.push("/profile")},[]);let g=async t=>{t.preventDefault();let r=!1;if(""==e.user_name?(u(!1),r=!0):u(!0),""==e.password?(n(!1),r=!0):n(!0),!r){try{let t=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org")+"/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json(),r=e.data.accessToken;r&&localStorage.setItem("accessToken",r),h(!0),m&&await m()}else console.error("Login failed:",t.statusText),h(!1)}catch(e){console.error("An unexpected error occurred:",e)}f.push("/profile")}},p=r=>{t({...e,[r.target.name]:r.target.value})};return(0,s.jsx)("div",{className:"relative flex flex-col items-center justify-center min-h-screen overflow-hidden",children:(0,s.jsxs)("div",{className:"w-full p-6 bg-white rounded-md shadow-xl lg:max-w-xl border",children:[(0,s.jsxs)("div",{className:"flex justify-center",children:[(0,s.jsx)("div",{className:"text-4xl font-extrabold text-center text-gray-800 not-italic",children:"Next Chess"}),(0,s.jsx)(o.Z,{width:45,height:45})]}),(0,s.jsxs)("form",{className:"mt-4",onSubmit:g,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-lg font-bold text-gray-700",children:"Username"}),(0,s.jsx)("input",{type:"username",name:"user_name",onChange:p,className:"block w-full px-2 py-2 mt-2 text-gray-700 bg-white border rounded-lg focus:border-gray-800 focus:ring-gray-300"}),!d&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:"Enter your Username."})]}),(0,s.jsxs)("div",{className:"mb-",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-lg font-bold text-gray-700",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",onChange:p,className:"block w-full px-2 py-2 mt-2 mb-2 text-gray-700 bg-white border rounded-lg focus:border-gray-800 focus:ring-gray-300"}),!r&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:"Enter your Password."}),!x&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:"UserName or Password is wrong."})]}),(0,s.jsx)(a(),{href:"/forget",className:"text-base text-blue-700 hover:underline font-semibold",children:"Forget Password?"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("button",{className:"w-full px-4 py-2 font-bold text-white bg-gray-700 rounded-md hover:bg-gray-500",children:"Login"})})]}),(0,s.jsx)("div",{className:"relative flex items-center justify-center w-full mt-6 border border-t",children:(0,s.jsx)("div",{className:"absolute px-5 bg-white font-bold",children:"Or"})}),(0,s.jsxs)("div",{className:"flex mt-6 gap-x-6",children:[(0,s.jsx)("button",{type:"button",className:"transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 hover:bg-slate-400 duration-300 flex items-center justify-center w-full p-2  border border-gray-800 rounded-lg",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:"w-5 h-5 fill-current",children:(0,s.jsx)("path",{d:"M16.318 13.714v5.484h9.078c-0.37 2.354-2.745 6.901-9.078 6.901-5.458 0-9.917-4.521-9.917-10.099s4.458-10.099 9.917-10.099c3.109 0 5.193 1.318 6.38 2.464l4.339-4.182c-2.786-2.599-6.396-4.182-10.719-4.182-8.844 0-16 7.151-16 16s7.156 16 16 16c9.234 0 15.365-6.49 15.365-15.635 0-1.052-0.115-1.854-0.255-2.651z"})})}),(0,s.jsx)("button",{className:"transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 hover:bg-slate-400 duration-300 flex items-center justify-center w-full p-2  border border-gray-800 rounded-lg",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:"w-5 h-5 fill-current",children:(0,s.jsx)("path",{d:"M16 0.396c-8.839 0-16 7.167-16 16 0 7.073 4.584 13.068 10.937 15.183 0.803 0.151 1.093-0.344 1.093-0.772 0-0.38-0.009-1.385-0.015-2.719-4.453 0.964-5.391-2.151-5.391-2.151-0.729-1.844-1.781-2.339-1.781-2.339-1.448-0.989 0.115-0.968 0.115-0.968 1.604 0.109 2.448 1.645 2.448 1.645 1.427 2.448 3.744 1.74 4.661 1.328 0.14-1.031 0.557-1.74 1.011-2.135-3.552-0.401-7.287-1.776-7.287-7.907 0-1.751 0.62-3.177 1.645-4.297-0.177-0.401-0.719-2.031 0.141-4.235 0 0 1.339-0.427 4.4 1.641 1.281-0.355 2.641-0.532 4-0.541 1.36 0.009 2.719 0.187 4 0.541 3.043-2.068 4.381-1.641 4.381-1.641 0.859 2.204 0.317 3.833 0.161 4.235 1.015 1.12 1.635 2.547 1.635 4.297 0 6.145-3.74 7.5-7.296 7.891 0.556 0.479 1.077 1.464 1.077 2.959 0 2.14-0.020 3.864-0.020 4.385 0 0.416 0.28 0.916 1.104 0.755 6.4-2.093 10.979-8.093 10.979-15.156 0-8.833-7.161-16-16-16z"})})})]}),(0,s.jsxs)("p",{className:"mt-4 text-base text-center text-gray-700",children:["Don't have an account?"," ",(0,s.jsx)(a(),{href:"/signup",className:"text-base text-blue-700 hover:underline font-semibold",children:"Sign up"})]})]})})}},99654:function(e,t,r){"use strict";var s=r(57437);r(2265),t.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:45,height:45,...e,children:(0,s.jsxs)("g",{style:{fill:"#000",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"},children:[(0,s.jsx)("path",{d:"M9 26c8.5-1.5 21-1.5 27 0l2.5-12.5L31 25l-.3-14.1-5.2 13.6-3-14.5-3 14.5-5.2-13.6L14 25 6.5 13.5 9 26z",style:{strokeLinecap:"butt",fill:"#000"}}),(0,s.jsx)("path",{d:"M9 26c0 2 1.5 2 2.5 4 1 1.5 1 1 .5 3.5-1.5 1-1 2.5-1 2.5-1.5 1.5 0 2.5 0 2.5 6.5 1 16.5 1 23 0 0 0 1.5-1 0-2.5 0 0 .5-1.5-1-2.5-.5-2.5-.5-2 .5-3.5 1-2 2.5-2 2.5-4-8.5-1.5-18.5-1.5-27 0z"}),(0,s.jsx)("path",{d:"M11.5 30c3.5-1 18.5-1 22 0M12 33.5c6-1 15-1 21 0"}),(0,s.jsx)("circle",{cx:6,cy:12,r:2}),(0,s.jsx)("circle",{cx:14,cy:9,r:2}),(0,s.jsx)("circle",{cx:22.5,cy:8,r:2}),(0,s.jsx)("circle",{cx:31,cy:9,r:2}),(0,s.jsx)("circle",{cx:39,cy:12,r:2}),(0,s.jsx)("path",{d:"M11 38.5a35 35 1 0 0 23 0",style:{fill:"none",stroke:"#000",strokeLinecap:"butt"}}),(0,s.jsx)("g",{style:{fill:"none",stroke:"#fff"},children:(0,s.jsx)("path",{d:"M11 29a35 35 1 0 1 23 0M12.5 31.5h20M11.5 34.5a35 35 1 0 0 22 0M10.5 37.5a35 35 1 0 0 24 0"})})]})})},91658:function(e,t,r){"use strict";r.r(t),r.d(t,{UserContext:function(){return l},UserProvider:function(){return o}});var s=r(57437),n=r(2265);let a={userId:0,dateOfBirth:"",email:"",gender:"",name:"",rate:"",rating:[],accessToken:"",isLoading:!1},l=n.createContext({...a,checkLogin:()=>{}}),o=e=>{let[t,r]=(0,n.useState)(""),[o,c]=(0,n.useState)({...a,checkLogin:()=>{}}),[i,d]=(0,n.useState)(!1),u=async()=>{d(!0);let e=localStorage.getItem("accessToken");if(e){r(e);let t=await fetch("".concat("http://fall2324w3g9.int3306.freeddns.org")+"/api/profile",{method:"GET",headers:{"Content-Type":"application/json",accessToken:e}}),s=await t.json();(null==s?void 0:s.code)===200&&(c(s.data),console.log(s.data.userId))}else c({...a,checkLogin:()=>{}});d(!1)};return(0,n.useEffect)(()=>{u().then()},[]),(0,s.jsx)(l.Provider,{value:{userId:o.userId,dateOfBirth:null==o?void 0:o.dateOfBirth,email:null==o?void 0:o.email,gender:null==o?void 0:o.gender,name:null==o?void 0:o.name,rate:null==o?void 0:o.rate,rating:null==o?void 0:o.rating,accessToken:t,isLoading:i,checkLogin:u},children:e.children})}},30622:function(e,t,r){"use strict";var s=r(2265),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var s,a={},i=null,d=null;for(s in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,s)&&!c.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:n,type:e,key:i,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=i,t.jsxs=i},57437:function(e,t,r){"use strict";e.exports=r(30622)},24033:function(e,t,r){e.exports=r(50094)}},function(e){e.O(0,[1396,2971,2472,1744],function(){return e(e.s=7915)}),_N_E=e.O()}]);